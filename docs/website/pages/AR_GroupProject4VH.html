<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	<script src="https://aframe.io/releases/1.3.0/aframe.js"></script>
	<script type='text/javascript' src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

	<script type="text/javascript" src="ar-threex.js"></script>

	<script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
	<script src="https://cdn.statically.io/gh/donmccurdy/aframe-extras/fe293f78/dist/aframe-extras.loaders.js"></script>

	<link rel="stylesheet" type="text/css" href="./style.css"/>
	<link rel="stylesheet" type="text/css" href="./loc.css"/>
	<link rel="stylesheet" type="text/css" href="./change.css"/>

	<script type='text/javascript' src='./static/script_vari.js'></script>
	
</head>

<script>
	AFRAME.registerComponent('info', {
		schema: {
			event: { type: 'string', default: '' },
			message: { type: 'string', default: 'YU Navigation!' }
		},

		init: function () {
			var self = this;
			this.eventHandlerFn = function () { console.log(self.data.message); };
		},

		update: function (oldData) {
			var data = this.data;
			var el = this.el;

			// `event` updated. Remove the previous event listener if it exists.
			if (oldData.event && data.event !== oldData.event) {
				el.removeEventListener(oldData.event, this.eventHandlerFn);
			}

			if (data.event) {
				el.addEventListener(data.event, this.eventHandlerFn);
			} else {
				console.log(data.message);
			}
		}
	});
</script>

<body style='margin : 0px; overflow: hidden;'>

	<div class="centered instructions"></div>
	
	<a-scene id="scene"
		 vr-mode-ui="enabled: false"
		 arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
		 renderer="antialias: true; alpha: true">

		<a-sky src="https://thisweek.students.yorku.ca/sites/default/files/images/campus-aerial.webp" hide-on-enter-ar></a-sky>

<!-- 		<a-assets>
			<a-asset-item id="VariHall"
				src="../assets/models/VariHall.gltf">
			</a-asset-item>
		</a-assets>
		<a-entity id="VH-model"
			  gltf-model="#VariHall" 
			  scale="0.25 0.25 0.25" rotation="0.5 0.5 0.5"
			  gps-entity-place="latitude: 43.773071; longitude: -79.503404;">
		</a-entity> -->
		
		<!--
		<a-entity position="20 20 100" scale="1 1 1">
			<a-camera gps-camera="simulateLatitude: 43.773071; simulateLongitude: -79.503404;" rotation-reader></a-camera>
		</a-entity>
		-->
		<a-camera gps-camera="simulateLatitude: 43.773071; simulateLongitude: -79.503404;" rotation-reader></a-camera>

<!-- 		<a-camera gps-camera rotation-reader></a-camera> -->
	
	</a-scene>

	<div class="centered">
		<button data-action="change"></button>
	</div>


</body>
</htlm>
